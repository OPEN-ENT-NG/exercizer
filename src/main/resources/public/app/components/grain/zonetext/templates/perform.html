<article>
    <grain-copy-header data-grain-copy="grainCopy"></grain-copy-header>
    <grain-copy-statement data-grain-copy="grainCopy"></grain-copy-statement>
    <grain-copy-grain-document-list data-grain-copy="grainCopy"></grain-copy-grain-document-list>

    <div class="row">
        <div class="base-image">
            <div class="image-container">
                <img ng-src="[[grainCopy.grain_copy_data.custom_copy_data.guideImage]]" />
            </div>
            
            <placed-block 
                ng-repeat="textZone in grainCopy.grain_copy_data.custom_copy_data.zones"
                x="textZone.position.x" y="textZone.position.y" z="textZone.position.z"
            >
                <text-zone>
                    <div ng-if="grainCopy.grain_copy_data.custom_copy_data.answersType === 'text'">
                        <input type="text" ng-model="textZone.answer" />
                    </div>
                    <div ng-if="grainCopy.grain_copy_data.custom_copy_data.answersType === 'list'">
                        <select ng-options="o as o for o in textZone.options" ng-model="textZone.answer" ng-change="apply()"></select>
                    </div>
                    <div ng-if="grainCopy.grain_copy_data.custom_copy_data.answersType === 'drag'">
                        <div class="drop-zone" drop-item="answer(textZone, $item);" drag-item="textZone">
                            <span>[[textZone.answer]]</span>
                        </div>
                    </div>
                </text-zone>
            </placed-block>
        </div>

        <div class="options" drop-item="removeAnswer($item);" ng-if="grainCopy.grain_copy_data.custom_copy_data.answersType === 'drag'">
            <ul>
                <li 
                    drag-item="option"
                    ng-repeat="option in grainCopy.grain_copy_data.custom_copy_data.options | filter:availableOption">
                    <text-zone><span>[[option]]</span></text-zone>
                </li>
            </ul>
        </div>
    </div>

</article>