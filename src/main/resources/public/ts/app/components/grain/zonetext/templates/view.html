<article id="[[grainCopy.id]]">
    <grain-copy-header data-grain-copy="grainCopy" data-grain-copy-list="grainCopyList"
    data-is-teacher="isTeacher" data-display-correction="displayCorrection" data-on-display-correction="doDisplayCorrection()"></grain-copy-header>
    <grain-copy-statement data-grain-copy="grainCopy"></grain-copy-statement>
    <grain-copy-grain-document-list data-grain-copy="grainCopy"></grain-copy-grain-document-list>

    <div class="row">
        <div class="drawing-zone base-image">
            <div class="image-container">
                <img id="bckgrnd" ng-src="[[grainCopy.grain_copy_data.custom_copy_data.guideImage]]" />
            </div>
            <placed-block ng-repeat="textZone in grainCopy.grain_copy_data.custom_copy_data.zones" style="padding:0;"
                            x="textZone.position.x" y="textZone.position.y" z="textZone.position.z"
                            transform-x="getResizedTextZoneX" transform-y="getResizedTextZoneY"
                            w="getResizedTextZoneW(150, false)"
            >
                <text-zone ng-class="{ success: correction[$index], error: !correction[$index] }">
                    <span>[[textZone.answer]]</span>
                </text-zone>

            </placed-block>
        </div>
    </div>
    <span id="[[ grainCopy.id ]]-correction"></span>
    <grain-copy-footer data-ng-if="!displayCorrection"
                       data-grain-scheduled="grainScheduled"
                       data-grain-copy="grainCopy"
                       data-is-teacher="isTeacher">
    </grain-copy-footer>

    <article class="grain-correction" data-ng-if="displayCorrection">
        <i class="right-magnet close" data-ng-click="doDisplayCorrection()"></i>
        <h2><i18n>exercizer.grain.correction</i18n></h2>
        <div class="row">
            <div class="drawing-zone base-image">
                <div class="image-container">
                    <img id="bckgrnd" ng-src="[[grainCopy.grain_copy_data.custom_copy_data.guideImage]]" />
                </div>
                <placed-block ng-repeat="textZone in grainScheduled.grain_data.custom_data.zones" style="padding:0;"
                                x="textZone.position.x" y="textZone.position.y" z="textZone.position.z"
                                transform-x="getResizedTextZoneX" transform-y="getResizedTextZoneY"
                                w="getResizedTextZoneW(150, false)"
                >
                    <text-zone class="success">
                        <span>[[textZone.answer]]</span>
                    </text-zone>

                </placed-block>
            </div>
        </div>
    </article>

</article>